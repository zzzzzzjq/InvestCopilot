{% load gftags %}

<html lang="zh_CN">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta charset="utf-8" />
    <title>Invest Copilot | Manage OpenAI Proc Task </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
    <meta name="description" content="Invest Copilot" />
    <meta name="author" content="Rocky" />

    <link rel="stylesheet" type="text/css" href="/static/js/toastr-2.1.3/toastr.min.css" />
    <link rel="stylesheet" type="text/css" href="/static/css/InvestCopilot.css" />
    
    <link href="/static/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/static/css/themes/night.css" id="skin-switcher">
    <link rel="stylesheet" type="text/css" href="/static/css/responsive.css">
    
    <!-- Table Page styles -->
    <link rel="stylesheet" href="/static/js/datatables/dataTables.bootstrap.css">
    
</head>

<body>
    {% include 'include/top.html' %}

    <!-- PAGE -->
    <section id="page">
        {% include 'include/page_menu_v_1.html' %}

        <div id="main-content">
            <div class="container">
                <div class="row">
                    <div id="content" class="col-lg-12">
                        <!-- PAGE HEADER-->
                        <div class="row">
                            <div class="col-md-12">
                                <div class="page-header">
                                    <div class="description"></div>
                                    <div class="clearfix">
                                        <h5 class="content-title pull-left">
                                            OpenAI计算任务管理
                                        </h5>
                                    </div>
                                    <div class="description"></div>
                                    {{ request|operaBusinCodeTag:'OpenAI计算任务管理' }}
                                </div>
                            </div>
                        </div>
                        <!-- /PAGE HEADER -->
                        <div class="row">
                            <div class="col-md-12">
                                <!-- BOX -->
                                <div class="box">
                                    <div class="box-title-noborder box-title">

                                        <div class="col-md-12">
                                            <div class="box">
                                                <div class="new-box-body font-400">
                                                    <h4>openAI KEY 队列</h4>
                                                    <div>
                                                        <table id="dataTable2" cellpadding="0" cellspacing="0" border="0" class="table table-bordered table-striped" >
                                                            <thead>
                                                                <tr>
                                                                    <th></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody></tbody>
                                                        </table>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-12">
                                            <div class="box">
                                                <div class="new-box-body font-400">
                                                    <h4>任务列表</h4>
                                                    <table id="dataTable1"  class="table table-bordered table-striped" >
                                                        <thead>
                                                            <tr>
                                                                <th></th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr>
                                                                <td></td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                            
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- /BOX -->
                            </div>
                        </div>
                    </div>
                    {% include 'include/bottom.html' %}
                </div>
            </div>
        </div>
        </div>
        {% include 'include/infomodal.html' %}

        <div class="modal fade" id="modal_new_portfolio" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title"><b>新建组合</b></h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" role="form" id="form_new_userportfolio">
                            <div class="form-group">
                                <label class="col-sm-3 control-label">组合名称<span class="required">*</span>：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control text required" id="new_portfolio_name" name="new_portfolio_name" placeholder="请输入组合名称" value="用户组合1" />
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="submit_userportfolio" onclick="submit_new_userportfolio()">
                            新建组合
                        </button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                            关闭
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="modal_add_stock" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title"><b>添加股票</b></h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-horizontal" role="form" id="form_add_stock">
                            <div class="form-group">
                                <label class="col-sm-3 control-label">Add Symbols<span class="required">*</span>：</label>
                                <div class="col-sm-8">
                                    <input type="text" class="form-control text required" id="add_stock_search_input" name="add_stock_search_input" placeholder="Add symbols" value="" />
                                </div>
                            </div>
                        </form>

                        <table class="table table-hover table-borderless w-100">
                            <tbody id="candidate_stocks_list">
                                <!-- List of candidate stocks will be populated dynamically -->
                            </tbody>
                        </table>
                        <table class="table table-borderless w-100">
                            <tbody id="chosen_stocks_list">
                                <!-- List of chosen stocks will be populated dynamically -->
                            </tbody>
                        </table>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" id="submit_add_stock" onclick="handleAddStockButtonClick()">
                            添加
                        </button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                            关闭
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--/PAGE -->
    <!-- JAVASCRIPTS -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- JQUERY -->
    <script src="/static/js/jquery/jquery-2.0.3.min.js"></script>
    <!-- JQUERY UI-->
    <script src="/static/js/jquery-ui-1.10.3.custom/js/jquery-ui-1.10.3.custom.min.js"></script>
    <!-- BOOTSTRAP -->
    <script src="/static/bootstrap-dist/js/bootstrap.min.js"></script>
    <!-- WIZARD -->
    <script src="/static/js/jquery-validate/jquery.validate.min.js"></script>
    <script src="/static/js/jquery-validate/additional-methods.min.js"></script>
    <script src="/static/js/jquery-validate/localization/messages_zh.js"></script>
    <!--TOASTR-->
    <script src="/static/js/toastr-2.1.3/toastr.min.js"></script>

    <!--JQuery DataTables-->
    <script src="/static/js/datatables/1.10.18/DataTables-1.10.18/js/jquery.dataTables.min.js"></script>
    <script src="/static/js/datatables/1.10.18/DataTables-1.10.18/js/dataTables.bootstrap.js"></script>
    <script src="/static/js/datatables/1.10.18/ColReorder-1.5.0/js/dataTables.colReorder.js"></script>

    <!--固定表头文件-->
    <link rel="stylesheet" type="text/css" href="/static/js/datatables/1.10.18/FixedHeader-3.1.4/css/fixedHeader.dataTables.min.css" />
    <script type="text/javascript" src="/static/js/datatables/1.10.18/FixedHeader-3.1.4/js/dataTables.fixedHeader.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/static/js/datatables/1.10.18/FixedColumns-3.2.5/css/fixedColumns.dataTables.min.css" />
    <script type="text/javascript" src="/static/js/datatables/1.10.18/FixedColumns-3.2.5/js/dataTables.fixedColumns.min.js"></script>

    <!--加导出CSV按钮-->
    <link rel="stylesheet" type="text/css" href="/static/js/datatables/1.10.18/Buttons-1.5.4/css/buttons.dataTables.min.css" />
    <script type="text/javascript" src="/static/js/datatables/1.10.18/Buttons-1.5.4/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="/static/js/datatables/1.10.18/JSZip-2.5.0/jszip.min.js"></script>
    <script type="text/javascript" src="/static/js/datatables/1.10.18/Buttons-1.5.4/js/buttons.html5.min.js"></script>

    <!-- DATE RANGE PICKER -->
    <!--script src="/static/js/bootstrap-daterangepicker/moment.min.js"></script>

<script src="/static/js/bootstrap-daterangepicker/daterangepicker.min.js"></script-->
    <!-- SLIMSCROLL -->
    <!--script type="text/javascript" src="/static/js/jQuery-slimScroll-1.3.0/jquery.slimscroll.min.js"></script>
<script type="text/javascript" src="js/jQuery-slimScroll-1.3.0/slimScrollHorizontal.min.js"></script-->
    <!-- COOKIE -->
    <script type="text/javascript" src="/static/js/jQuery-Cookie/jquery.cookie.min.js"></script>

    <!-- CUSTOM SCRIPT -->
    <script src="/static/js/script.js"></script>
    <script type="text/javascript" src="/static/js/InvestCopilot/vscript_tools.js?v=0.01"></script>
    <script type="text/javascript" src="/static/js/InvestCopilot/vscript_manageopenaitask.js?v=0.01"></script>

    <script>
        jQuery(document).ready(function () {
            App.init(); //Initialise plugins and elements and menu
            //initiate the page
            init_base_control();
            getallqueueinfo();
            getalltaskinfo();
        });

    </script>
    <!-- /JAVASCRIPTS -->
</body>

</html>